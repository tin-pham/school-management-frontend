<app-comment
  *ngIf="!isEditing"
  (replyClick)="toggleReply()"
  (editClick)="toggleEdit()"
  (deleteClick)="delete()"
  [avatarUrl]="comment.userImageUrl"
  [displayName]="comment.userDisplayName"
  [content]="comment.body"
  [dateAgo]="dateAgo"
  [depth]="comment.depth"></app-comment>

<div *ngIf="isEditing" [ngStyle]="{ 'margin-left': comment.depth * 60 + 'px' }">
  <app-comment-textbox [(content)]="comment.body" (comment)="edit()" (cancel)="cancelEdit()"></app-comment-textbox>
</div>

<div *ngIf="commentBoxVisiblity" [ngStyle]="{ 'margin-left': (comment.depth + 1) * 60 + 'px' }">
  <app-comment-textbox [(content)]="commentCreating.body" (comment)="reply()" (cancel)="clearReply()"></app-comment-textbox>
</div>

<div *ngIf="comment.replies && !isEditing" class="replies">
  <app-comment-box (onDelete)="handleDelete(reply.id)" *ngFor="let reply of comment.replies" [comment]="reply"></app-comment-box>
</div>

<div *ngIf="exercise">
  <app-exercise-detail-header
    (onRemoveClicked)="removeQuestionsFromExercise()"
    (onActivateClicked)="activateExercise()"
    [totalItems]="totalItems"
    [exercise]="exercise"
    [exerciseId]="exerciseId"
    [selectedQuestionIds]="selectedQuestionIds"
    [isStudent]="isStudent()"></app-exercise-detail-header>

  <div *ngIf="!isStudent() || exercise.isStartDoing" class="exercise-body">
    <app-question-list
      *ngIf="!isStudent()"
      #questionList
      [showTrash]="false"
      [showCheckBox]="!exercise.isActive"
      [showEdit]="!exercise.isActive"
      [(totalItems)]="totalItems"
      [(selectedQuestionIds)]="selectedQuestionIds"
      (onEdit)="routeToQuestion($event)"
      [exerciseId]="exerciseId"></app-question-list>

    <app-student-question-list
      *ngIf="isStudent() && (!exercise.isSubmitted || exercise.point)"
      [exerciseId]="exerciseId"
      [isSubmitted]="exercise.isSubmitted"
      [(studentExerciseSubmitDTO)]="studentExerciseSubmitDTO"></app-student-question-list>

    <app-exercise-detail-done *ngIf="isStudent() && exercise.isSubmitted && !exercise.point"></app-exercise-detail-done>
  </div>

  <div class="exercise-footer">
    <app-primary-button *ngIf="isStudent() && exercise.isStartDoing && !exercise.isSubmitted" (click)="submitExercise()"
      >Nộp bài</app-primary-button
    >
    <app-primary-button *ngIf="isStudent() && !exercise.isStartDoing" (click)="storeStudentExercise()">Bắt đầu làm bài</app-primary-button>
  </div>
</div>

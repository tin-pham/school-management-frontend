<div *ngIf="exercise">
  <app-exercise-detail-header
    (onRemoveClicked)="removeQuestionsFromExercise()"
    (onActivateClicked)="activateExercise()"
    [totalItems]="totalItems"
    [exercise]="exercise"
    [exerciseId]="exerciseId"
    [selectedQuestionIds]="selectedQuestionIds"
    [isStudent]="isStudent()"></app-exercise-detail-header>

  <div *ngIf="!isStudent() || isStartDoing()" class="exercise-body">
    <app-question-list
      *ngIf="!isStudent()"
      #questionList
      [showTrash]="false"
      [showCheckBox]="!exercise.isActive"
      [showEdit]="!exercise.isActive"
      [(totalItems)]="totalItems"
      [(selectedQuestionIds)]="selectedQuestionIds"
      (onEdit)="routeToQuestion($event)"
      [exerciseId]="exerciseId"></app-question-list>

    <app-student-question-list *ngIf="isStudent()" [exerciseId]="exerciseId"></app-student-question-list>
  </div>

  <div class="exercise-footer">
    <app-primary-button *ngIf="isStudent() && isStartDoing() && !isSubmitted()" (click)="submitExercise()">Nộp bài</app-primary-button>
    <app-primary-button *ngIf="isStudent() && !isStartDoing()" (click)="storeStudentExercise()">Bắt đầu làm bài</app-primary-button>
  </div>
</div>

<div class="exercise-detail-header">
  <div class="exercise-header">
    <div class="exercise-title">
      <h1>{{ exercise.name }}</h1>
      <mat-icon *ngIf="!isStudent" class="badge bg-dark">edit</mat-icon>
    </div>
    <div class="exercise-info">
      <span class="badge bg-dark">
        {{ exercise.difficultyName | titlecase }}
      </span>
      <span class="badge bg-dark" *ngIf="exercise.time">{{ exercise.time }} phút </span>
    </div>
  </div>

  <div *ngIf="exercise.dueDate" class="exercise-secondary">
    <div>
      <p class="deadline">Deadline: {{ exercise.dueDate | date: 'dd/MM/yyyy' }}</p>
      <p *ngIf="exercise.point" class="point">Điểm: {{ exercise.point }}</p>
    </div>
    <div class="countdown" *ngIf="exercise.isStartDoing && isCountdownActive">
      {{ countdown }}
    </div>

    <div *ngIf="isStudent && !isCountdownActive" class="buttons">
      <app-primary-button *ngIf="exercise.isSubmitted" (click)="redoClicked()">Làm bài lại</app-primary-button>
    </div>

    <div *ngIf="!isStudent" class="buttons">
      <app-secondary-button (click)="routeToQuestionCategory()">Chọn câu hỏi từ bộ câu hỏi</app-secondary-button>
      <app-primary-button *ngIf="!exercise.isActive" (click)="activateClicked()">Kích hoạt</app-primary-button>
      <app-warn-button *ngIf="selectedQuestionIds?.length > 0" (click)="removeClicked()">Xóa khỏi bài tập này</app-warn-button>
      <app-secondary-button *ngIf="exercise.isActive" (click)="sync()">Đồng bộ</app-secondary-button>
      <app-primary-button *ngIf="exercise.isActive" (click)="onGradeClick()">Chấm điểm</app-primary-button>
    </div>
  </div>
</div>
